var __index = {"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Hybrid Proctor Documentation","text":"<p>Welcome to the Hybrid Proctor - ISC Exam System Documentation.</p>"},{"location":"index.html#overview","title":"Overview","text":"<p>This system provides a streamlined and secure platform for educators to administer examinations to students using their personal computers. </p> <p>The foundation of this system is a specialized router, which hosts the examination statement and any additional resources that the educator wishes to provide. Upon setup, students can connect to the router via WiFi, granting them access to a dedicated examination webpage while restricting them an internet access. </p> <p>From this webpage, students can download necessary resources and, upon completion, submit their work. The submitted files are then conveniently stored on the router, ready for educators to retrieve via SFTP.</p> <p></p>"},{"location":"blog/index.html","title":"Blog","text":""},{"location":"guide/index.html","title":"Guides","text":"<p>Read these guides to:</p> <ul> <li>Configurate and use the system for an examination.</li> <li>Setup a new router from scratch.</li> </ul>","tags":["guides"]},{"location":"guide/old_setup.html","title":"Old setup","text":""},{"location":"guide/old_setup.html#user-guide","title":"User guide","text":"<ol> <li>Plug USB key in router and power up the later (don't forget to plug in the antenna!).</li> <li>Connect to it via wifi (password: toto_1234).</li> <li> <p>Connect to router via sftp to adapt the config for your exam. </p> <p></p><pre><code>sftp -P 2222 admin@10.0.0.1\n</code></pre> Here's what you can change: - The statement of your exam, replace /mount_point/html/exam.html. - The ressources to be downloaded by the students, put them in /mount_point/html/resources. Delete the content of the directory if you don't have any. - Optionally: The list of files the students have to submit. You can list these files in  /mount_point/html/config.yml, or disable the option. <p>Please, don't delete or modify any other files in /mount_point/html/.</p> </li> <li> <p>Go to 10.0.0.1 and check if your exam/resources are really there and if everything is working.</p> </li> <li>Students can then connect to router wifi and do the exam.</li> <li>Once finished, to access uploaded files, connect via sftp again. The files should be present in /home/admin/uploads. </li> </ol>"},{"location":"guide/old_setup.html#install-guide-to-setup-another-router","title":"Install guide (to setup another router..)","text":"<p>You will need a Mikrotik router and a USB key with an ext4 partition.</p> <ol> <li>Power up router (don't forget to plug in the antenna!). Connect to your PC via ethernet cable.</li> <li>Install and start winBox, you should see your device listed.</li> <li>Login to it with the admin pwd written on the bottom of your device (admin/WBJ6PZ033W), now it should be admin/toto1234.</li> <li>(Optional) Install latest version of routerOS, you will need routerOS &gt; V7.5 to be able to run containers. This can be done from inside WinBox.</li> <li>Install the container.npk. Download the all_package zip corresponding to your hardware architecture and software version (check with /system/resource/print), extract and drop the container.npk into winBox and restart the router with /sys reboot. After restarting, you should see a new tab called container in WinBox.</li> <li>To activate the container feature, enter /system device-mode update container=yes in the terminal. Then press the reset button of the router when asked so.</li> </ol>"},{"location":"guide/old_setup.html#network-setup","title":"Network setup","text":"<p>Open a terminal in winBox and run the following commands to setup the network stuff: </p><pre><code>/interface bridge\nadd name=dockers\n/ip address/\nadd address=172.17.0.1/24 interface=dockers network=172.17.0.0\nadd address=10.0.0.1/24 interface=wifi1 network=10.0.0.0\n/interface veth\nadd name=veth1 address=172.17.0.2/24 gateway=172.17.0.1\n/interface bridge port\nadd bridge=dockers interface=veth1\n</code></pre>"},{"location":"guide/old_setup.html#container-setup","title":"Container setup","text":"<p>Normally, it's possible to simply build the image on a PC and then upload the .tar to the router via WinBox to create the container but it doesn't seem to work, so instead I published the image to dockerHub and then pulled the image from inside the router. Check the makefile to create and publish the docker image, you will need an account on dockerHub.</p> <p>The container has 2 volumes linked to the USB device. One to serve the html and the downloadable ressources, and the other to save uploaded files. This could be merged in the future to only have one mount point.</p> <p></p><pre><code>/container config\nset registry-url=https://registry-1.docker.io\nset tmpdir=usb1/pull\n/container/mounts/\nadd dst=/mount_point src=usb1/mount name=mount\nadd dst=/home/admin/upload src=usb1/uploads name=uploads\n/container\nadd remote-image=stevedevenes/hybridproctor-arm:latest interface=veth1 root-dir=usb1/hybridProctorContainer mounts=mount,uploads\n/ip firewall/nat\nadd chain=dstnat action=dst-nat protocol=tcp dst-port=80 to-ports=80 to-addresses=172.17.0.2 # frontend\nadd chain=dstnat action=dst-nat protocol=tcp dst-port=2222 to-ports=22 to-addresses=172.17.0.2 # sftp to upload container\nadd chain=dstnat action=dst-nat protocol=tcp dst-port=3000 to-ports=3000 to-addresses=172.17.0.2 # upload route\n</code></pre> Important: Don't forget to tick the \"start on boot\" option in container config. <p>Once done, you should be able to see the container with </p><pre><code>/container/pr\n</code></pre> and start it with  <pre><code>/container start &lt;container number&gt;\n</code></pre> You can also access it's shell with <pre><code>/container shell &lt;container number&gt;\n</code></pre>"},{"location":"guide/old_setup.html#wifi-config","title":"Wifi config","text":"<pre><code>/interface wifiwave2 security\nadd authentication-type=wpa3-psk name=hybridProctor disabled=no\n/interface/wifiwave2/configuration/\nadd mode=ap name=hybridProctor security hybridProctor ssid=MThybridProctor\n/interface/wifiwave2/\nset [ find default-name=wifi1 ] configuration=hybridProctor disabled=no\nset wifi1 datapath.client-isolation=yes\n/ip pool\nadd name=pool0 ranges=10.0.0.10-10.0.0.100\n/ip dhcp-server\nadd address-pool=pool0 interface=wifi1 name dhcp1 server-address=10.0.0.1\n/ip/dhcp-server/network\nadd address=10.0.0.0/24 dns-server=10.0.0.1 gateway=10.0.0.1\n</code></pre> Note: If the last command throw an error mentionning slave interface, go to Brige/Ports and disable wifi1 form the list."},{"location":"guide/old_setup.html#dns-config","title":"DNS config","text":"<p>Doesn't seems to work, at least for the wifi IP.. </p><pre><code>/ip/dns\nset allow-remote-requests=yes\n/ip/dns/static\nadd name=exam.local address=10.0.0.1\n</code></pre>"},{"location":"guide/old_setup.html#wifi-password","title":"Wifi password","text":"<p>This can be changed in Wifi menu, opening the wifi1 network pannel and then in Security. For now it is set to remote_exam</p>"},{"location":"guide/old_setup.html#useful-resources","title":"Useful resources","text":"<ul> <li>https://help.mikrotik.com/docs/display/ROS/Container</li> <li>https://www.youtube.com/watch?v=8u1PVouAGnk</li> <li>adding sftp server: https://medium.com/@okHadi/setting-up-a-sftp-server-inside-an-existing-docker-container-method-1-3042871db69f</li> </ul>"},{"location":"guide/setup/index.html","title":"Setup Guide","text":"<p>You will need a Mikrotik router, a USB key with an ext4 partition and two ethernet cables, one to connect the router to your pc and the other one to give internet access to the router.</p>","tags":["setup_guide"]},{"location":"guide/setup/index.html#powering-up-and-updating-os-version","title":"Powering up and updating os version","text":"<ol> <li>Power up router (don't forget to plug in the antenna!). Connect to your PC via ethernet cable.</li> <li>Provide an internet connection to the router via another ethernet cable. </li> <li>Install and start winBox, you should see your device listed.</li> <li>Login to it with the admin pwd written on the bottom of your device (admin/WBJ6PZ033W), now it should be admin/toto1234.</li> <li>Install latest version (7.14.1) of routerOS, you will need routerOS &gt; V7.5 to be able to run containers. This can be done from inside WinBox by opening System/Package.</li> <li> <p>You may also need to update the routerBoard Version in system/RouterBOARD.     </p> </li> <li> <p>Install the container.npk. Download the all_package zip corresponding to your hardware architecture and software version (check with /system/resource/print), extract and drop the container.npk into winBox and restart the router with /sys reboot. After restarting, you should see a new tab called container in WinBox.</p> </li> <li>To activate the container feature, enter /system device-mode update container=yes in the terminal. Then press the reset button of the router when asked so.</li> </ol>","tags":["setup_guide"]},{"location":"guide/setup/index.html#configuration-setup","title":"Configuration setup","text":"<p>A configuration script of a working system has been exported and is available in the github repo in router_config/config.rsc.</p> <ol> <li>Upload config.rsc to the router via WinBox.</li> <li>Import the script if not executed automatically:     <pre><code>import config.rsc\n</code></pre></li> <li>You can also run and adapt the commands listed in config.rsc manually in the router terminal if something is not working.</li> </ol>","tags":["setup_guide"]},{"location":"guide/setup/index.html#upgrading-the-container-image","title":"Upgrading the container image","text":"<p>If you already have a working router but need to upgrade only the container image you can do the following:</p> <ol> <li>Login via WinBox.</li> <li>Make sure to give an internet access to the router via a ethernet cable.</li> <li>Open the Container window to stop and delete the current container.</li> <li>Open a terminal and enter:     <pre><code>add remote-image=stevedevenes/hybridproctor-arm:latest interface=veth1 root-dir=usb1/hybridProctorContainer start-on-boot=yes mounts=mount,uploads\n</code></pre></li> <li>The container should appear in the Container window: Start it!     </li> </ol>","tags":["setup_guide"]},{"location":"guide/setup/index.html#changing-the-wifi-ssid-password","title":"Changing the Wifi SSID / password","text":"<p>To avoid having multiple wifi with the same name, please change the SSID of any new configured system.</p> <ol> <li>In the Wifi window, open the wifi1 network pannel.</li> <li>Change the SSID in the Configuration tab</li> <li>Change the passphrase in the Security tab.</li> </ol>","tags":["setup_guide"]},{"location":"guide/usage/index.html","title":"Usage Guide","text":"","tags":["usage_guide"]},{"location":"guide/usage/index.html#creating-the-exam-statement","title":"Creating the exam statement","text":"<p>To use this system you need to have your exam statement in a single html file. Please have a look at this repo which provide tools and examples to generate html from markdown or latex.</p>","tags":["usage_guide"]},{"location":"guide/usage/index.html#deploying-the-exam","title":"Deploying the exam","text":"<ol> <li>Plug the USB key in the router and power up the later (don't forget to plug in the antenna!).</li> <li>Connect to it via wifi (password: toto1234).</li> <li> <p>Connect to router via sftp to adapt the config for your exam. You will need the private ssh key provided by Steve Dev\u00e8nes to connect.</p> <p>You can connect either via a terminal or by using a ssh client like FileZilla:</p> TerminalFileZilla <pre><code>sftp -i /path/to/ssh_key -P 2222 root@10.0.0.1\n</code></pre> <p>This is the config you need to connect via FileZilla, make sure to adapt the  to match your ssh key path. </p> <p>Once connected, here's what you can change:</p> <ul> <li>The statement of your exam, replace /mount_point/html/exam.html.</li> <li>The ressources to be downloaded by the students, put them in /mount_point/html/resources. Delete the content of the directory if you don't have any.</li> <li>Optionally: The list of files the students have to submit. You can list these files in  /mount_point/html/config.yml, or disable the option.</li> </ul> <p>Please, don't delete or modify any other files in /mount_point/html/.</p> </li> <li> <p>Go to 10.0.0.1 and check if your exam/resources are really there and if everything is working (try downloading ressources and uploading files).</p> </li> </ol>","tags":["usage_guide"]},{"location":"guide/usage/index.html#during-the-exam","title":"During the exam","text":"<ol> <li>Provide the wifi password to the students and ask them to connect.</li> <li>Students can then do the exam and upload their files.</li> <li> <p>Once finished, you can retrieve the submitted files via sftp, they are located in /home/admin/uploads. </p> <p>Warning</p> <p>Make sure the students files are really uploaded and accessible through sftp before they leave!</p> <p>Danger</p> <p>The current version of the system doesn't provide a way to check if students still have an internet access, and also if they are still connected to the router. This is planned in future version. For now you will have to keep an eye on the students during the exam.</p> </li> </ol>","tags":["usage_guide"]},{"location":"router/index.html","title":"The router","text":"<p>Identifier:</p> <ul> <li>Router L009UiGS-2HaxD-IN 2.4 GHz ax dual-chain Wi-Fi</li> </ul> <p>This router, from Mikrotik, allows to create and manage containers natively. The only thing required is to plug an USB device to store the containers data as the Mikrotik doesn't have a lot of internal memory. </p> <p></p>"}]}